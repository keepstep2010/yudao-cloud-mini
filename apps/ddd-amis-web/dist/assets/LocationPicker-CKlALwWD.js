import{a as f,R as a,f as _,h as k,M as E,ap as S,bC as w,o as g,bD as F,c as L,d,q as h,s as n,aV as R,F as T}from"./index-SNKBwPMT.js";var P=(function(c){f(e,c);function e(){var t=c!==null&&c.apply(this,arguments)||this;return t.domRef=a.createRef(),t.state={isOpened:!1},t}return e.prototype.close=function(){this.setState({isOpened:!1})},e.prototype.open=function(){this.setState({isOpened:!0})},e.prototype.handleClick=function(){this.state.isOpened?this.close():this.open()},e.prototype.handleChange=function(t){return _(this,void 0,void 0,function(){var o,i,r,s;return k(this,function(p){switch(p.label){case 0:return o=this.props,i=o.dispatchEvent,r=o.onChange,[4,i("change",E(this.props,{value:t}))];case 1:return s=p.sent(),s?.prevented?[2]:(r(t),[2])}})})},e.prototype.getParent=function(){var t;return(t=this.domRef.current)===null||t===void 0?void 0:t.parentElement},e.prototype.getTarget=function(){return this.domRef.current},e.prototype.doAction=function(t,o,i){var r,s,p,l=this.props,m=l.resetValue,u=l.onChange,v=l.formStore,y=l.store,C=l.name,b=t?.actionType;switch(b){case"clear":u("");break;case"reset":u?.((p=(s=S((r=v?.pristine)!==null&&r!==void 0?r:y?.pristine,C))!==null&&s!==void 0?s:m)!==null&&p!==void 0?p:"");break}},e.prototype.renderStatic=function(t){t===void 0&&(t="-");var o=this.props;o.classnames;var i=o.value,r=o.staticSchema,s=o.ak,p=o.coordinatesType,l=o.hideViewControl,m=l===void 0?!1:l,u=o.mobileUI;return this.props.translate,i?a.createElement("div",{className:this.props.classnames("LocationControl",{"is-mobile":u}),ref:this.domRef},r?.embed?a.createElement(a.Fragment,null,r.showAddress===!1?null:a.createElement("div",{className:"mb-2"},i.address),a.createElement(w,{ak:s,value:i,coordinatesType:p,autoSelectCurrentLoc:!1,onlySelectCurrentLoc:!0,showSug:!1,showGeoLoc:r.showGeoLoc,mapStyle:r.mapStyle,hideViewControl:m})):a.createElement("span",null,i.address)):a.createElement(a.Fragment,null,t)},e.prototype.render=function(){var t=this.props;t.style;var o=t.env,i=t.mobileUI;return g(this.props.ak,this.props.data)||o.locationPickerAK,a.createElement("div",{className:this.props.classnames("LocationControl",{"is-mobile":i})},a.createElement(F,L({},this.props,{placeholder:this.props.placeholder,ak:g(this.props.ak,this.props.data),onChange:this.handleChange})))},e.defaultProps={vendor:"baidu",coordinatesType:"bd09"},d([h,n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],e.prototype,"close",null),d([h,n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],e.prototype,"open",null),d([h,n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],e.prototype,"handleClick",null),d([h,n("design:type",Function),n("design:paramtypes",[Object]),n("design:returntype",Promise)],e.prototype,"handleChange",null),d([h,n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],e.prototype,"getParent",null),d([h,n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],e.prototype,"getTarget",null),d([R(),n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],e.prototype,"render",null),e})(a.Component),O=(function(c){f(e,c);function e(){return c!==null&&c.apply(this,arguments)||this}return e=d([T({type:"location-picker"})],e),e})(P);export{P as LocationControl,O as LocationRenderer};
