import{a as Z,d as C,e as se,W as le,f as G,h as J,X as oe,t as de,Z as $,U as z,ar as te,a1 as ue,j as ce,i as pe,r as he,as as fe,a2 as re,c as m,a7 as ge,a8 as ve,y as Q,m as W,aa as ye,a3 as me,a4 as X,af as be,ah as Te,at as V,au as Pe,R as P,ap as ae,H as Fe,o as Ce,ac as Se,av as Ae,aj as Oe,b as Ie,aw as Re,q as S,s as f,ax as Qe}from"./index-SNKBwPMT.js";import{p as De,o as xe}from"./omitBy-BMIIGhdN.js";var ke=["selectedChange","columnSort","columnFilter","columnSearch","columnToggled","orderChange","rowClick","rowDbClick","rowMouseEnter","rowMouseLeave","selected"],Ne=(function(A){Z(l,A);function l(t){var e=A.call(this,t)||this;e.stopingAutoRefresh=!1;var r=t.location,a=t.store,s=t.syncLocation,n=t.pageField,d=t.perPageField;t.parsePrimitiveQuery;var o=e.getParseQueryOptions(t);e.mounted=!0,s&&r&&(r.query||r.search)?a.updateQuery($(r,o),void 0,n,d):s&&!r&&window.location.search&&a.updateQuery($(window.location,o),void 0,n,d),e.props.api&&e.props.store.updateData({items:[]});var i=t.mode,p=t.columns;return i==="table2"&&p&&a.updateColumns(p),e}return l.prototype.componentDidMount=function(){var t=this.props,e=t.store,r=t.pickerMode,a=t.loadType,s=t.loadDataOnce,n=t.maxLoadNum,d=a&&!s;if(d){var o=a==="more"?this.props.perPage||10:this.getPaginationPerPage();e.changePage(e.page,o)}else a||e.changePage(1,n||500);if(this.initQuery({}),r){var i=z(this.props);i&&e.setSelectedItems(i)}},l.prototype.componentDidUpdate=function(t){var e,r=this.props,a=t.store;r.parsePrimitiveQuery,t.columns!==r.columns&&a.updateColumns(r.columns);var s;this.props.pickerMode&&te(s=z(this.props),z(t))&&a.setSelectedItems(s);var n=!1;if(t.syncLocation&&t.location&&t.location.search!==r.location.search&&(a.updateQuery($(r.location,this.getParseQueryOptions(r)),void 0,r.pageField,r.perPageField),n=!!(r.api&&ue(a.query,this.lastQuery,!1))),!n){if(t.api&&r.api&&ce(t.api,r.api,a.fetchCtxOf(t.data,{pageField:t.pageField,perPageField:t.perPageField}),a.fetchCtxOf(r.data,{pageField:r.pageField,perPageField:r.perPageField})))n=!0;else if(!r.api&&pe(r.source)){var d=he(r.source,r.data,"| raw");(!this.lastData||this.lastData!==d)&&(a.initFromScope(r.data,r.source,{columns:(e=a.columns)!==null&&e!==void 0?e:r.columns}),this.lastData=d)}}n&&this.getData()},l.prototype.componentWillUnmount=function(){this.mounted=!1,clearTimeout(this.timer)},l.prototype.getPaginationPerPage=function(){var t=10,e=this.props,r=e.headerToolbar,a=e.footerToolbar;return fe({headerToolbar:r,footerToolbar:a},function(s,n,d){n==="type"&&s==="pagination"&&!isNaN(d?.perPage)&&(t=+d.perPage)}),t},l.prototype.getParseQueryOptions=function(t){var e,r=t.parsePrimitiveQuery,a={parsePrimitive:!!(re(r)?r?.enable:r),primitiveTypes:(e=r?.types)!==null&&e!==void 0?e:["boolean"]};return a},l.prototype.controlRef=function(t){for(;t&&t.getWrappedInstance;)t=t.getWrappedInstance();this.control=t},l.prototype.initQuery=function(t){var e=this.props,r=e.store,a=e.orderBy,s=e.orderDir,n=e.loadType,d={};a&&(d.orderBy=a,d.orderDir=s||"asc"),this.handleSearch({query:m(m(m({},d),t),r.query),replaceQuery:this.props.initFetch!==!1,loadMore:n==="more",resetPage:!1}),r.setPristineQuery()},l.prototype.handleLoadMore=function(){var t=this.props,e=t.store,r=t.perPage,a=r===void 0?10:r;e.changePage(e.page+1,a),this.getData(void 0,void 0,void 0,!0)},l.prototype.handleSearch=function(t){var e,r,a=this.props,s=a.store,n=a.syncLocation,d=a.env,o=a.pageField,i=a.perPageField,p=a.parsePrimitiveQuery,c=this.getParseQueryOptions(this.props),g=t||{},u=g.query,h=g.resetQuery,y=g.replaceQuery,b=g.loadMore,v=g.resetPage;u=m(m({},u),De((r=(e=u?.__super)===null||e===void 0?void 0:e.diff)!==null&&r!==void 0?r:{},function(F){return F===void 0})),u=n?ge(oe(u,void 0,!0)):u,p&&(u=ve(u,c)),s.updateQuery(h?m(m({},u),this.props.store.pristineQuery):u,n&&d&&d.updateLocation?function(F){return d.updateLocation(F,!0)}:void 0,o,i,y),v&&s.changePage(1),this.lastQuery=s.query,this.getData(void 0,void 0,void 0,b??!1)},l.prototype.handleStopAutoRefresh=function(){this.timer&&clearTimeout(this.timer),this.stopingAutoRefresh=!0},l.prototype.handleStartAutoRefresh=function(){this.stopingAutoRefresh=!1,this.reload()},l.prototype.reloadTarget=function(t,e){},l.prototype.closeTarget=function(t){},l.prototype.updateQuery=function(t){this.props.store},l.prototype.getData=function(t,e,r,a){var s,n,d;return r===void 0&&(r=!1),G(this,void 0,void 0,function(){var o,i,p,c,g,u,h,y,b,v,F,D,T,O,I,_,j,U,R,w,M,E;return J(this,function(L){switch(L.label){case 0:return o=this.props,i=o.store,p=o.api,c=o.messages,g=o.pageField,u=o.perPageField,h=o.interval,y=o.stopAutoRefreshWhen,b=o.silentPolling,o.syncLocation,v=o.syncResponse2Query,F=o.keepItemSelectionOnPageChange,D=o.stopAutoRefreshWhenModalIsOpen,T=o.pickerMode,o.env,O=o.loadType,I=o.loadDataOnce,_=o.source,j=o.columns,U=o.perPage,R=o.pullRefresh,!a&&F&&e&&!T&&(i.setSelectedItems([]),i.setUnSelectedItems([])),clearTimeout(this.timer),this.lastQuery=i.query,w=a??O==="more",M=Q(i.data,i.query),w&&U&&i.changePerPage(U),W(p,M)?[4,i.fetchInitData(p,M,{successMessage:c&&c.fetchSuccess,errorMessage:c&&c.fetchFailed,autoAppend:!0,forceReload:r,loadDataOnce:I,source:_,silent:t,pageField:g,perPageField:u,loadDataMode:w,dataAppendTo:R?.dataAppendTo||"bottom",syncResponse2Query:v,columns:(s=i.columns)!==null&&s!==void 0?s:j,isTable2:!0,minLoadingTime:R?.minLoadingTime})]:[3,2];case 1:return E=L.sent(),E?.ok&&h&&!this.stopingAutoRefresh&&this.mounted&&(!y||!(y&&ye(y,Q(i.data,i.query))))&&(!D||!i.dialogOpen&&!(!((n=i?.parentStore)===null||n===void 0)&&n.dialogOpen))&&(this.timer=setTimeout(this.getData.bind(this,b,void 0,!0),Math.max(h,1e3))),[3,3];case 2:_&&i.initFromScope(M,_,{columns:(d=i.columns)!==null&&d!==void 0?d:j}),L.label=3;case 3:return[2,i.data]}})})},l.prototype.handleChangePage=function(t,e){var r,a=this.props,s=a.store,n=a.syncLocation,d=a.env,o=a.pageField,i=a.perPageField,p=a.autoJumpToTopOnPagerChange,c=(r={},r[o||"page"]=t,r);if(e&&(c[i||"perPage"]=e),s.updateQuery(c,n&&d?.updateLocation?d.updateLocation:void 0,o,i),s.changePage(t,e),this.getData(),p&&this.control){me.findDOMNode(this.control).scrollIntoView();var g=window.scrollY;g&&window.scroll(0,g)}},l.prototype.handleSave=function(t,e,r,a,s,n){var d=this,o=this.props,i=o.store,p=o.quickSaveApi,c=o.quickSaveItemApi,g=o.primaryField,u=o.env,h=o.messages,y=o.reload;if(Array.isArray(t)){if(!W(p)){u&&u.alert("CRUD quickSaveApi is required");return}var b=Q(i.data,{rows:t,rowsDiff:e,indexes:r,rowsOrigin:s});t.length&&t[0].hasOwnProperty(g||"id")&&(b.ids=t.map(function(D){return D[g||"id"]}).join(",")),a&&(b.unModifiedItems=a),i.saveRemote(p,b,{successMessage:h&&h.saveFailed,errorMessage:h&&h.saveSuccess}).then(function(){y&&d.reloadTarget(X(y,b),b),d.getData(void 0,void 0,!0)}).catch(function(){})}else{if(!W(c)){u&&u.alert("CRUD quickSaveItemApi is required!");return}var v=Q(i.data,{item:t,modified:e,origin:s}),F=Q(v,t);i.saveRemote(c,F).then(function(){y&&d.reloadTarget(X(y,v),v),d.getData(void 0,void 0,!0)}).catch(function(){n?.resetOnFailed&&d.control.reset()})}},l.prototype.handleSaveOrder=function(t,e){var r=this,a=this.props,s=a.store,n=a.saveOrderApi,d=a.orderField,o=a.primaryField,i=a.env,p=a.reload;if(!n){i&&i.alert("CRUD saveOrderApi is required!");return}var c=Q(s.data),g,u,h=[],y=o&&e[0]&&e[0].hasOwnProperty(o);if(y||(c.idMap={}),c.insertAfter={},e.forEach(function(T){if(~t.indexOf(T))if(g){var O=y?g[o]:e.indexOf(g);c.insertAfter[O]=c.insertAfter[O]||[],y||(c.idMap[O]=g),c.insertAfter[O].push(y?T[o]:T)}else h.push(T);else g=T,u=u||T}),u&&h.length){var b=y?u[o]:e.indexOf(u);y||(c.idMap[b]=u),c.insertBefore={},c.insertBefore[b]=h.map(function(T){return y?T[o]:T})}else if(h.length){var v=h[0],F=y?v[o]:e.indexOf(v);y||(c.idMap[F]=v),c.insertAfter[F]=h.slice(1).map(function(T){return y?T[o]:T})}if(d){var D=(s.page-1)*s.perPage||0;e=e.map(function(T,O){var I;return be(T,(I={},I[d]=D+O+1,I))})}c.rows=e.concat(),y&&(c.ids=e.map(function(T){return T[o]}).join(",")),y&&d&&(c.order=e.map(function(T){return Te(T,[o,d])})),W(n,c)&&s.saveRemote(n,c).then(function(){p&&r.reloadTarget(X(p,c),c),r.getData(void 0,void 0,!0)}).catch(function(){})},l.prototype.handleSelect=function(t,e){var r=this.props,a=r.store,s=r.keepItemSelectionOnPageChange,n=r.primaryField,d=r.multiple,o=r.pickerMode,i=r.onSelect,p=t,c=e;if(te(a.selectedItemsAsArray,p)){if(s&&a.selectedItems.length){var g=a.selectedItems.concat(),u=a.unSelectedItems.concat();t.forEach(function(h){var y=V(g,function(v){return v===h||v[n||"id"]&&v[n||"id"]==h[n||"id"]});~y?g[y]=h:g.push(h);var b=V(u,function(v){return v===h||v[n||"id"]&&v[n||"id"]==h[n||"id"]});~b&&u.splice(b,1)}),e.forEach(function(h){var y=V(u,function(v){return v===h||v[n||"id"]&&v[n||"id"]==h[n||"id"]}),b=V(g,function(v){return v===h||v[n||"id"]&&v[n||"id"]==h[n||"id"]});~y?u[y]=h:u.push(h),!~y&&~b&&g.splice(b,1)}),p=g,c=u}o&&d===!1&&p.length>1&&c.push.apply(c,p.splice(0,p.length-1)),a.setSelectedItems(p),a.setUnSelectedItems(c),i&&i(p)}},l.prototype.handleQuerySearch=function(t,e){var r;e===void 0&&(e=!1);var a=this.props,s=a.store,n=a.syncLocation,d=a.env,o=a.pageField,i=a.perPageField;return s.updateQuery(m(m({},t),(r={},r[o||"page"]=1,r)),n&&d&&d.updateLocation?d.updateLocation:void 0,o,i),this.getData(void 0,void 0,e)},l.prototype.reload=function(t,e){return e?this.receive(e):this.getData(void 0,void 0,!0)},l.prototype.receive=function(t){return this.handleQuerySearch(t,!0)},l.prototype.doAction=function(t,e,r){if(t.actionType&&["stopAutoRefresh","reload","search","startAutoRefresh","loadMore"].includes(t.actionType))return this["handle".concat(Pe(t.actionType))](e)},l.prototype.handleAction=function(t,e,r,a,s){return a===void 0&&(a=!1),["stopAutoRefresh","reload","search","startAutoRefresh","loadMore"].includes(e.actionType)?this.doAction(e,r,a):this.props.onAction(t,e,r,a,s||this.context)},l.prototype.dispatchEvent=function(t,e,r,a){if(t==="selectedChange"&&this.control===r){var s=this.props.store;e.selectedItems=s.selectedItems.concat(),e.unSelectedItems=s.unSelectedItems.concat()}return this.props.dispatchEvent(t,e,r,a)},l.prototype.unSelectItem=function(t,e){var r=this.props.store,a=r.selectedItems.concat(),s=r.unSelectedItems.concat(),n=a.indexOf(t);~n&&s.push.apply(s,a.splice(n,1)),r.setSelectedItems(a),r.setUnSelectedItems(s)},l.prototype.clearSelection=function(){var t=this.props.store,e=t.selectedItems.concat(),r=t.unSelectedItems.concat();t.setSelectedItems([]),t.setUnSelectedItems(r.concat(e))},l.prototype.toggleAllColumns=function(t){var e=this.props.store;e.updateColumns(e.columns.map(function(r){return m(m({},r),{toggled:t})}))},l.prototype.toggleToggle=function(t){var e=this.props.store,r=e.columns[t],a=r.toggled;e.updateColumns(e.columns.map(function(s,n){return m(m({},s),{toggled:t===n?!a:s.toggled!==!1})}))},l.prototype.handlePullRefresh=function(){return G(this,void 0,void 0,function(){var t,e,r,a;return J(this,function(s){switch(s.label){case 0:return t=this.props,e=t.dispatchEvent,r=t.data,[4,e("pullRefresh",r)];case 1:return a=s.sent(),a?.prevented?[2]:(this.handleLoadMore(),[2])}})})},l.prototype.renderChild=function(t,e,r){r===void 0&&(r={});var a=this.props,s=a.render,n=a.store,d=a.primaryField,o=d===void 0?"id":d,i,p=n.selectedItems,c=n.unSelectedItems,g=n.items;/^filter/.test(t)?i=Q(Q(n.filterData,n.getData(this.props.data)),{}):i=Q(n.mergedData,{items:g.concat(),selectedItems:p.concat(),unSelectedItems:c.concat(),ids:p.map(function(h){return h.hasOwnProperty(o)?h[o]:null}).filter(function(h){return h}).join(",")});var u={activePage:n.page,lastPage:n.lastPage,perPage:n.perPage,total:n.total,onPageChange:this.handleChangePage,cols:n.columns,toggleAllColumns:this.toggleAllColumns,toggleToggle:this.toggleToggle,onQuery:this.handleQuerySearch};return e.type,s(t,e,m(m({data:i},r),u))},l.prototype.renderToolbar=function(t,e){var r=this;return e?(e=[].concat(e),e.map(function(a,s){return r.renderChild("".concat(t,"/").concat(s),a,{key:s+""})})):null},l.prototype.renderFilter=function(t){var e=this;if(!t||Array.isArray(t)&&t.length===0)return null;var r=Array.isArray(t)?t:re(t)&&t.type!=null?[t]:[];return r.length<1?null:r.map(function(a,s){return e.renderChild("filter/".concat(s),a,m({key:s+"filter",data:e.props.store.filterData,onSubmit:function(n){return e.handleSearch({query:n,resetPage:!0})},onReset:function(n){var d={};Object.keys(n).forEach(function(o){return d[o]=""}),e.handleSearch({query:d,resetQuery:!0,replaceQuery:!0,resetPage:!0})}},e.props.mobileUI?{columnCount:1,mode:"normal",collapsible:!0,title:{type:"container",body:[{type:"icon",icon:"column-filter",className:"icon mr-2"},a.title||""]}}:{}))})},l.prototype.renderSelection=function(){var t=this,e=this.props,r=e.store,a=e.classnames,s=e.labelField,n=e.labelTpl,d=e.primaryField,o=e.translate,i=e.env;return r.selectedItems.length?P.createElement("div",{className:a("Crud-selection")},P.createElement("div",{className:a("Crud-selectionLabel")},o("CRUD.selected",{total:r.selectedItems.length})),r.selectedItems.map(function(p,c){return P.createElement("div",{key:c,className:a("Crud-value")},P.createElement("span",{"data-tooltip":o("delete"),"data-position":"bottom",className:a("Crud-valueIcon"),onClick:t.unSelectItem.bind(t,p,c)},"×"),P.createElement("span",{className:a("Crud-valueLabel")},n?P.createElement(Fe,{html:Ce(n,p),filterHtml:i.filterHtml}):ae(p,s||"label")||ae(p,d||"id")))}),P.createElement("a",{onClick:this.clearSelection.bind(this),className:a("Crud-selectionClear")},o("clear"))):null},l.prototype.transformTable2cards=function(){for(var t,e=this.props,r=e.store,a=e.columns,s=e.card,n=e.mobileMode,d=[],o=n.fieldCount||4,i=[],p="",c=((t=r.columns)!==null&&t!==void 0?t:a)||[],g=0;g<c.length;g++){var u=c[g];if(Se(u))if(u.type==="operation")i.push.apply(i,Ae([],Oe(u?.buttons||[]),!1));else if(u.type==="button"&&u.name==="operation")i.push(u);else{if(!u.label&&u.title&&(u.label=u.title),u.type==="static-image"&&!p){p="${".concat(u.name,"}");continue}d.length<o&&(u.type==="static-image"&&u.title&&delete u.title,d.push(u))}}return d.length?{columnsCount:1,type:"cards",card:m(m(m({},s),{body:d,actions:i}),p?{media:{type:"image",url:p,position:"right",className:""},mediaActionPosition:"outside"}:{})}:null},l.prototype.transMobileHeaderToolbar=function(t,e){var r=0,a={},s={},n=null;function d(o,i){Array.isArray(o)?o.forEach(function(p){return d(p,i)}):o&&typeof o=="object"&&(o.type==="button"?(r++,o.label==="新增"&&(a=o,s=i)):o.type==="search-box"&&(n=o),(o.items||o.body)&&d(o.items||o.body,o))}t.forEach(function(o){d(o)}),r===1&&a&&(a.label="",a.icon="plus",a.className||(a.className=""),a.className+=" is-fixed-right-bottom",s&&(s.className||(s.className=""),s.className+=" is-fixed-right-bottom-wrapper")),n&&(r===0||r===1&&a)&&Qe(this.props.filterSchema)&&e()},l.prototype.render=function(){var t,e=this.props,r=e.columns,a=e.className,s=e.style,n=e.bodyClassName,d=e.filter,o=e.render,i=e.store,p=e.mode,c=p===void 0?"table2":p;e.syncLocation,e.children,e.bulkActions;var g=e.pickerMode,u=e.selectable,h=e.multiple;e.valueField;var y=e.primaryField;e.value,e.hideQuickSaveBtn;var b=e.itemActions,v=e.classnames,F=e.keepItemSelectionOnPageChange,D=e.maxKeepItemSelectionLength,T=e.onEvent;e.onAction;var O=e.popOverContainer,I=e.translate;e.onQuery;var _=e.autoGenerateFilter;e.onSelect;var j=e.autoFillHeight,U=e.showSelection,R=e.headerToolbar,w=e.footerToolbar;e.columnsTogglable;var M=e.headerToolbarClassName,E=e.footerToolbarClassName,L=e.id,k=e.testIdBuilder,N=e.mobileMode,K=e.mobileUI,H=e.pullRefresh,ne=Ie(e,["columns","className","style","bodyClassName","filter","render","store","mode","syncLocation","children","bulkActions","pickerMode","selectable","multiple","valueField","primaryField","value","hideQuickSaveBtn","itemActions","classnames","keepItemSelectionOnPageChange","maxKeepItemSelectionLength","onEvent","onAction","popOverContainer","translate","onQuery","autoGenerateFilter","onSelect","autoFillHeight","showSelection","headerToolbar","footerToolbar","columnsTogglable","headerToolbarClassName","footerToolbarClassName","id","testIdBuilder","mobileMode","mobileUI","pullRefresh"]),q,Y=!1,x=null;if(N&&K&&c.includes("table")){var B=this.transformTable2cards();typeof N=="string"&&N==="cards"?B&&(x=B):typeof N=="object"&&(x=m(m(m({},B),N),{card:m(m({},B?.card),N.card)})),x&&this.transMobileHeaderToolbar(R,function(){Y=!0}),x&&!H?.disabled&&(q=m(m({normalText:I("pullRefresh.crud2NormalText"),pullingText:I("pullRefresh.crud2PullingText"),loosingText:I("pullRefresh.crud2LoosingText")},H),{disabled:!1}))}else q=H;var ee=o("body",m(m(m({},ne),{onEvent:xe(T,function(Me,ie){return!ke.includes(ie)}),type:c,columns:c.startsWith("table")?i.columns||r:void 0,id:L}),x),{key:"body",className:v("Crud2-body",n),ref:this.controlRef,autoGenerateFilter:!d&&_,autoFillHeight:j,checkAll:!1,selectable:!!(u??g),itemActions:b,multiple:h,columnsTogglable:!1,selected:g||F?i.selectedItemsAsArray:void 0,keepItemSelectionOnPageChange:F,maxKeepItemSelectionLength:D,primaryField:y,testIdBuilder:k,items:i.data.items,query:i.query,orderBy:i.query.orderBy,orderDir:i.query.orderDir,popOverContainer:O,onSave:this.handleSave.bind(this),onSaveOrder:this.handleSaveOrder,onSearch:this.handleQuerySearch,onSort:this.handleQuerySearch,onSelect:this.handleSelect,onAction:this.handleAction,dispatchEvent:this.dispatchEvent,data:i.mergedData,loading:i.loading,host:this});return P.createElement("div",m({className:v("Crud2",a,{"is-loading":i.loading,"is-mobile":K,"is-mobile-cards":N==="cards"||x?.type==="cards"}),style:s,"data-id":L,"data-role":"container"},k?.getTestId()),P.createElement("div",m({className:v("Crud2-filter")},k?.getChild("filter").getTestId()),this.renderFilter(d)),P.createElement("div",{className:v("Crud2-toolbar","Crud2-header-toolbar",M,{"is-sticky":Y})},this.renderToolbar("headerToolbar",R)),U&&F&&h!==!1?this.renderSelection():null,K&&q&&!q.disabled?P.createElement(Re,m({},q,{translate:I,onRefresh:this.handlePullRefresh,direction:(t=q.gestureDirection)!==null&&t!==void 0?t:"up",loading:i.loading,completed:!i.loading&&i.lastPage>0&&i.page>=i.lastPage,completedText:i.total>0?void 0:""}),ee):P.createElement(P.Fragment,null,ee,P.createElement("div",{className:v("Crud2-toolbar","Crud2-footer-toolbar",E)},this.renderToolbar("footerToolbar",w))))},l.propsList=["mode","syncLocation","value","multiple","valueField","pageField","perPageField","hideQuickSaveBtn","autoJumpToTopOnPagerChange","interval","silentPolling","stopAutoRefreshWhen","stopAutoRefreshWhenModalIsOpen","api","headerToolbar","footerToolbar","autoGenerateFilter","syncResponse2Query","keepItemSelectionOnPageChange","source","onChange","onInit","onSaved","onQuery","autoFillHeight","showSelection","headerToolbarClassName","footerToolbarClassName","primaryField","parsePrimitiveQuery","pullRefresh"],l.defaultProps={toolbarInline:!0,syncLocation:!0,hideQuickSaveBtn:!1,autoJumpToTopOnPagerChange:!0,silentPolling:!1,autoFillHeight:!1,showSelection:!0,primaryField:"id",parsePrimitiveQuery:!0,pullRefresh:{disabled:!1,showIcon:!0,showText:!0,iconType:"auto",color:"#777777",dataAppendTo:"bottom",gestureDirection:"up",minLoadingTime:0,contentText:{normalText:"点击加载更多",pullingText:"加载中...",loosingText:"释放立即刷新",loadingText:"加载中...",successText:"加载成功",completedText:"没有更多数据了"}}},C([S,f("design:type",Function),f("design:paramtypes",[]),f("design:returntype",void 0)],l.prototype,"getPaginationPerPage",null),C([S,f("design:type",Function),f("design:paramtypes",[Object]),f("design:returntype",void 0)],l.prototype,"controlRef",null),C([S,f("design:type",Function),f("design:paramtypes",[Number,Number]),f("design:returntype",void 0)],l.prototype,"handleChangePage",null),C([S,f("design:type",Function),f("design:paramtypes",[Array,Array]),f("design:returntype",void 0)],l.prototype,"handleSaveOrder",null),C([S,f("design:type",Function),f("design:paramtypes",[Array,Array]),f("design:returntype",void 0)],l.prototype,"handleSelect",null),C([S,f("design:type",Function),f("design:paramtypes",[Object,Boolean]),f("design:returntype",void 0)],l.prototype,"handleQuerySearch",null),C([S,f("design:type",Function),f("design:paramtypes",[Object,Object,Boolean]),f("design:returntype",void 0)],l.prototype,"doAction",null),C([S,f("design:type",Function),f("design:paramtypes",[Object,Object,Object,Boolean,Object]),f("design:returntype",void 0)],l.prototype,"handleAction",null),C([S,f("design:type",Function),f("design:paramtypes",[Object,Object,P.Component,Object]),f("design:returntype",void 0)],l.prototype,"dispatchEvent",null),C([S,f("design:type",Function),f("design:paramtypes",[Boolean]),f("design:returntype",void 0)],l.prototype,"toggleAllColumns",null),C([S,f("design:type",Function),f("design:paramtypes",[Number]),f("design:returntype",void 0)],l.prototype,"toggleToggle",null),C([S,f("design:type",Function),f("design:paramtypes",[]),f("design:returntype",Promise)],l.prototype,"handlePullRefresh",null),C([S,f("design:type",Function),f("design:paramtypes",[String,Object,Object]),f("design:returntype",void 0)],l.prototype,"renderChild",null),l})(P.Component),_e=(function(A){Z(l,A);function l(t,e){var r=A.call(this,t)||this,a=e;return a.registerComponent(r),r}return l.prototype.componentWillUnmount=function(){A.prototype.componentWillUnmount.call(this);var t=this.context;t.unRegisterComponent(this)},l.prototype.reload=function(t,e,r){return G(this,void 0,void 0,function(){var a;return J(this,function(s){return a=this.context,t?[2,a.reload(e?"".concat(t,"?").concat(oe(e)):t,r)]:[2,A.prototype.reload.call(this,t,e)]})})},l.prototype.receive=function(t,e){return G(this,void 0,void 0,function(){var r;return J(this,function(a){return r=this.context,e?[2,r.send(e,t)]:[2,A.prototype.receive.call(this,t)]})})},l.prototype.reloadTarget=function(t,e){var r=this.context;r.reload(t,e)},l.prototype.closeTarget=function(t){var e=this.context;e.close(t)},l.contextType=de,l})(Ne),qe=(function(A){Z(l,A);function l(){return A!==null&&A.apply(this,arguments)||this}return l=C([se({type:"crud2",storeType:le.name,isolateScope:!0})],l),l})(_e);export{qe as CRUD2Renderer,_e as CRUD2RendererBase,Ne as default};
