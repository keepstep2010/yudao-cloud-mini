{
  "version": "1.0.0",
  "dataTransferObjects": [
    {
      "id": "dto_create_order_cmd",
      "name": "创建订单命令",
      "description": "创建新订单的命令DTO",
      "englishName": "Create Order Command",
      "domainId": "domain_ec_retail",
      "boundedContextId": "bc_order",
      "type": "COMMAND",
      "layer": "APPLICATION",
      "purpose": "用于应用层接收创建订单的请求",
      "attributes": [
        {
          "name": "customerId",
          "description": "客户ID",
          "dataType": "String",
          "required": true,
          "constraints": {
            "minLength": 1,
            "maxLength": 36
          }
        },
        {
          "name": "items",
          "description": "订单项列表",
          "dataType": "List",
          "required": true,
          "isCollection": true,
          "collectionType": "LIST",
          "nestedDtoId": "dto_order_item"
        },
        {
          "name": "shippingAddress",
          "description": "收货地址",
          "dataType": "Object",
          "nestedDtoId": "dto_address",
          "required": true
        },
        {
          "name": "totalAmount",
          "description": "订单总金额",
          "termId": "term_order_amount",
          "dataType": "BigDecimal",
          "required": true,
          "constraints": {
            "minimum": 0,
            "precision": 10,
            "scale": 2
          }
        }
      ],
      "termReferences": ["term_order_amount"],
      "validationRules": [
        "订单金额必须大于0",
        "客户必须存在",
        "订单项不能为空"
      ],
      "serialization": {
        "format": "JSON",
        "compatibility": "BACKWARD"
      },
      "isImmutable": true,
      "generateBuilder": true,
      "example": {
        "customerId": "cust-12345",
        "items": [
          {
            "productId": "prod-67890",
            "quantity": 2,
            "unitPrice": 29.99
          }
        ],
        "shippingAddress": {
          "province": "广东省",
          "city": "深圳市",
          "district": "南山区",
          "detail": "科技园南区1号楼",
          "postalCode": "518000"
        },
        "totalAmount": 59.98
      }
    },
    {
      "id": "dto_order_item",
      "name": "订单项",
      "description": "订单中的商品项",
      "englishName": "Order Item",
      "domainId": "domain_ec_retail",
      "boundedContextId": "bc_order",
      "type": "VALUE_OBJECT",
      "layer": "APPLICATION",
      "attributes": [
        {
          "name": "productId",
          "description": "商品ID",
          "dataType": "String",
          "required": true,
          "constraints": {
            "minLength": 1,
            "maxLength": 36
          }
        },
        {
          "name": "quantity",
          "description": "数量",
          "dataType": "Integer",
          "required": true,
          "constraints": {
            "minimum": 1
          }
        },
        {
          "name": "unitPrice",
          "description": "单价",
          "dataType": "BigDecimal",
          "required": true,
          "constraints": {
            "minimum": 0,
            "precision": 10,
            "scale": 2
          }
        }
      ],
      "serialization": {
        "format": "JSON"
      }
    },
    {
      "id": "dto_address",
      "name": "地址",
      "description": "收货地址",
      "englishName": "Address",
      "domainId": "domain_ec_retail",
      "boundedContextId": "bc_order",
      "type": "VALUE_OBJECT",
      "layer": "APPLICATION",
      "attributes": [
        {
          "name": "province",
          "description": "省份",
          "dataType": "String",
          "required": true
        },
        {
          "name": "city",
          "description": "城市",
          "dataType": "String",
          "required": true
        },
        {
          "name": "district",
          "description": "区县",
          "dataType": "String",
          "required": true
        },
        {
          "name": "detail",
          "description": "详细地址",
          "dataType": "String",
          "required": true
        },
        {
          "name": "postalCode",
          "description": "邮政编码",
          "dataType": "String",
          "constraints": {
            "length": 6
          }
        }
      ],
      "serialization": {
        "format": "JSON"
      }
    },
    {
      "id": "dto_order_response",
      "name": "订单响应",
      "description": "订单操作响应DTO",
      "englishName": "Order Response",
      "domainId": "domain_ec_retail",
      "boundedContextId": "bc_order",
      "type": "RESPONSE",
      "layer": "CLIENT",
      "purpose": "用于客户端接收订单操作结果",
      "attributes": [
        {
          "name": "orderId",
          "description": "订单ID",
          "dataType": "String",
          "required": true
        },
        {
          "name": "status",
          "description": "订单状态",
          "dataType": "String",
          "required": true
        },
        {
          "name": "createdAt",
          "description": "创建时间",
          "dataType": "LocalDateTime",
          "required": true
        },
        {
          "name": "totalAmount",
          "description": "订单总金额",
          "termId": "term_order_amount",
          "dataType": "BigDecimal",
          "required": true
        }
      ],
      "serialization": {
        "format": "JSON"
      }
    },
    {
      "id": "dto_reserve_stock_cmd",
      "name": "预留库存命令",
      "description": "预留商品库存的命令DTO",
      "englishName": "Reserve Stock Command",
      "domainId": "domain_ec_retail",
      "boundedContextId": "bc_inventory",
      "type": "COMMAND",
      "layer": "APPLICATION",
      "attributes": [
        {
          "name": "orderId",
          "description": "订单ID",
          "dataType": "String",
          "required": true
        },
        {
          "name": "items",
          "description": "库存预留项列表",
          "dataType": "List",
          "required": true,
          "isCollection": true,
          "collectionType": "LIST",
          "nestedDtoId": "dto_stock_item"
        }
      ],
      "serialization": {
        "format": "JSON"
      }
    },
    {
      "id": "dto_stock_item",
      "name": "库存项",
      "description": "库存操作项",
      "englishName": "Stock Item",
      "domainId": "domain_ec_retail",
      "boundedContextId": "bc_inventory",
      "type": "VALUE_OBJECT",
      "layer": "APPLICATION",
      "attributes": [
        {
          "name": "productId",
          "description": "商品ID",
          "dataType": "String",
          "required": true
        },
        {
          "name": "quantity",
          "description": "数量",
          "dataType": "Integer",
          "required": true,
          "constraints": {
            "minimum": 1
          }
        }
      ],
      "serialization": {
        "format": "JSON"
      }
    },
    {
      "id": "dto_create_payment_cmd",
      "name": "创建支付命令",
      "description": "创建支付请求的命令DTO",
      "englishName": "Create Payment Command",
      "domainId": "domain_ec_retail",
      "boundedContextId": "bc_payment",
      "type": "COMMAND",
      "layer": "APPLICATION",
      "attributes": [
        {
          "name": "orderId",
          "description": "订单ID",
          "dataType": "String",
          "required": true
        },
        {
          "name": "amount",
          "description": "支付金额",
          "dataType": "BigDecimal",
          "required": true,
          "constraints": {
            "minimum": 0,
            "precision": 10,
            "scale": 2
          }
        },
        {
          "name": "paymentMethod",
          "description": "支付方式",
          "dataType": "String",
          "required": true,
          "constraints": {
            "enumValues": ["ALIPAY", "WECHAT", "BANK_CARD"]
          }
        }
      ],
      "serialization": {
        "format": "JSON"
      }
    }
  ]
}